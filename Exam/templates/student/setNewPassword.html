{% extends 'base_auth.html' %}

{% load static %}


{% block body %}
<div class="auth-container">
	<div class="auth-form-wrapper">
		<!-- Header -->
		<div class="auth-header">
			<div class="auth-icon">
				<i class="bi bi-shield-lock"></i>
			</div>
			<h2 class="auth-title">
				Set New Password
			</h2>
			<p class="auth-subtitle">
				Enter your new password to complete the reset
			</p>
		</div>

		<!-- Password Form -->
		<div class="auth-form-card">
			{% if form %}
				<form method="post">
					{% csrf_token %}

					<!-- Messages -->
					{% include 'partials/_messages.html' %}

					<!-- Password Fields -->
					<div class="form-field">
						{{ form }}
					</div>

					<!-- Submit Button -->
					<div class="form-field">
						<button type="submit" class="btn-primary">
							<span class="btn-icon">
								<i class="bi bi-shield-check"></i>
							</span>
							Set New Password
						</button>
					</div>
				</form>
			{% else %}
				<!-- Error Message -->
				<div class="text-center">
					<div class="mx-auto h-12 w-12 bg-red-100 rounded-full flex items-center justify-center mb-4">
						<i class="bi bi-exclamation-triangle text-2xl text-red-600"></i>
					</div>
					
					<div class="bg-red-50 rounded-lg p-4">
						<p class="text-red-800">
							You have already used this link. Please request a new password reset link.
						</p>
					</div>
				</div>
			{% endif %}

			<!-- Links -->
			<div class="auth-links">
				<div class="auth-link-item">
					<span class="auth-link-text">Don't have an account?</span>
					<a href="{% url 'register' %}" class="auth-link">
						Register here
					</a>
				</div>
				<div class="auth-link-item">
					<span class="auth-link-text">Remember your password?</span>
					<a href="{% url 'login' %}" class="auth-link">
						Sign in here
					</a>
				</div>
			</div>
		</div>

		<!-- Footer -->
		<div class="auth-footer">
			<p class="auth-footer-text">
				Â© 2024 Exam Portal. All rights reserved.
			</p>
		</div>
	</div>
</div>

<script src="{% static 'js/register.js' %}" type="text/javascript"></script>
{% endblock %}